<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
        <script>
            var metros = "m";
            var demo = "#m"
            var texto = 0;
               
            AFRAME.registerComponent("foo", {
            
              init: function() {
              for (let i = 1; i < 4; i++) {
              	texto = demo + i
                this.box = document.querySelector(texto)
                this.text = document.querySelector("a-text")
                console.log(texto)
            }
              }
              ,
              tick: function() {
                let camPos = this.el.object3D.position
                let boxPos = this.box.object3D.position
                this.text.setAttribute("value", (parseInt(camPos.distanceTo(boxPos)))+(metros))
                console.log((parseInt(camPos.distanceTo(boxPos)))+(metros))
              }
            })
            
          
          </script>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <a-scene
            embedded
            loading-screen="enabled: false;"
            arjs="sourceType: webcam; debugUIEnabled: false; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;"
        >
               <!-- <a-image
                    src="assets/asset.png"
                    look-at="[gps-camera]"
                    scale="10 10 10"
                    gps-entity-place="latitude: 39.31232595081319; longitude: -7.441707272082569;"
                ></a-image> -->

                <a-entity id="m1"
                gltf-model="assets/scene.gltf" 
                scale="2.5 2.5 2.5" 
                gps-entity-place="latitude: 39.312057336981134; longitude: -7.441721269860865;"
                look-at="[gps-camera]"/>
                <a-text width="20" color="white" position="-0.75 -3 0"> </a-text>
                </a-entity>

                <a-entity id="m2"
                gltf-model="assets/scene.gltf" 
                scale="2.5 2.5 2.5" 
                gps-entity-place="latitude: 39.31229391435525; longitude: -7.441506693139673;" 
                look-at="[gps-camera]"/>
                <a-text width="20" color="white" position="-0.75 -3 0"> </a-text>
                </a-entity>

                <a-entity id="m3"
                gltf-model="assets/scene.gltf" 
                scale="2.5 2.5 2.5" 
                gps-entity-place="latitude: 39.312655004594696; longitude: -7.442236253991724;" 
                look-at="[gps-camera]"/>
                <a-text width="20" color="white" position="-0.75 -3 0"> </a-text>
                </a-entity>

            <a-camera gps-camera rotation-reader foo></a-camera>
        </a-scene>
    </body>
</html>
